((e,t)=>{"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()})(this,function(){return function(p,z,t,Z){var h={features:null,bind:function(e,t,n,i){var o=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var a=0;a<t.length;a++)t[a]&&e[o](t[a],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){t=document.createElement(t||"div");return e&&(t.className=e),t},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){h.bind(e,t,n,!0)},removeClass:function(e,t){t=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(t," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){h.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(h.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){if(n&&e.hasOwnProperty(i))continue;e[i]=t[i]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(h.features)return h.features;var e,t,n=h.createEl().style,i="",o={};o.oldIE=document.all&&!document.addEventListener,o.touch="ontouchstart"in window,window.requestAnimationFrame&&(o.raf=window.requestAnimationFrame,o.caf=window.cancelAnimationFrame),o.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,o.pointerEvent||(e=navigator.userAgent,/iP(hone|od)/.test(navigator.platform)&&(t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))&&0<t.length&&1<=(t=parseInt(t[1],10))&&t<8&&(o.isOldIOSPhone=!0),t=(t=e.match(/Android\s([0-9\.]*)/))?t[1]:0,1<=(t=parseFloat(t))&&(t<4.4&&(o.isOldAndroid=!0),o.androidVersion=t),o.isMobileOpera=/opera mini|opera mobi/i.test(e));for(var a,r,s,l=["transform","perspective","animationName"],u=["","webkit","Moz","ms","O"],c=0;c<4;c++){for(var i=u[c],d=0;d<3;d++)a=l[d],r=i+(i?a.charAt(0).toUpperCase()+a.slice(1):a),!o[a]&&r in n&&(o[a]=r);i&&!o.raf&&(i=i.toLowerCase(),o.raf=window[i+"RequestAnimationFrame"],o.raf)&&(o.caf=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"])}return o.raf||(s=0,o.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-s)),i=window.setTimeout(function(){e(t+n)},n);return s=t+n,i},o.caf=function(e){clearTimeout(e)}),o.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,h.features=o}},m=(h.detectFeatures(),h.features.oldIE&&(h.bind=function(e,t,n,i){t=t.split(" ");for(var o,a=(i?"detach":"attach")+"Event",r=function(){n.handleEvent.call(n)},s=0;s<t.length;s++)if(o=t[s])if("object"==typeof n&&n.handleEvent){if(i){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=r;e[a]("on"+o,n["oldIE"+o])}else e[a]("on"+o,n)}),this),N=25,f={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};h.extend(f,Z);function e(){return{x:0,y:0}}function B(e,t){h.extend(m,t.publicMethods),Ke.push(e)}function j(e){var t=L();return t-1<e?e-t:e<0?t+e:e}function a(e,t){return Ye[e]||(Ye[e]=[]),Ye[e].push(t)}function H(e,t,n,i){i===m.currItem.initialZoomLevel?n[e]=m.currItem.initialPosition[e]:(n[e]=Qe(e,i),n[e]>t.min[e]?n[e]=t.min[e]:n[e]<t.max[e]&&(n[e]=t.max[e]))}function W(e){var t="";f.escKey&&27===e.keyCode?t="close":f.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),!t||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,m[t]())}function U(e){e&&(Me||De||y||Te)&&(e.preventDefault(),e.stopPropagation())}function K(){m.setScrollOffset(0,h.getScrollY())}function X(e){var t;"mousedown"===e.type&&0<e.button||(Qt?e.preventDefault():Fe&&"mousedown"===e.type||(_t(e,!0)&&e.preventDefault(),E("pointerDown"),he&&((t=h.arraySearch(ft,e.pointerId,"id"))<0&&(t=ft.length),ft[t]={x:e.pageX,y:e.pageY,id:e.pointerId}),e=(t=Nt(e)).length,u=null,ut(),l&&1!==e||(l=Ae=!0,h.bind(window,ee,m),Ie=Ze=Re=Te=_e=Me=Se=De=!1,Pe=null,E("firstTouchStart",t),S(je,b),Be.x=Be.y=0,S(_,t[0]),S(mt,_),gt.x=x.x*He,vt=[{x:_.x,y:_.y}],Ce=xe=I(),it(v,!0),Ft(),St()),!c&&1<e&&!y&&!_e&&(ne=v,c=Se=!(De=!1),Be.y=Be.x=0,S(je,b),S(M,t[0]),S(ht,t[1]),Lt(M,ht,Et),Ct.x=Math.abs(Et.x)-b.x,Ct.y=Math.abs(Et.y)-b.y,Oe=Tt(M,ht))))}function G(e){var t;e.preventDefault(),he&&-1<(t=h.arraySearch(ft,e.pointerId,"id"))&&((t=ft[t]).x=e.pageX,t.y=e.pageY),l&&(t=Nt(e),Pe||Me||c?u=t:O.x!==x.x*He?Pe="h":(e=Math.abs(t[0].x-_.x)-Math.abs(t[0].y-_.y),Math.abs(e)>=pt&&(Pe=0<e?"h":"v",u=t)))}function Y(e){if(s.isOldAndroid){if(Fe&&"mouseup"===e.type)return;-1<e.type.indexOf("touch")&&(clearTimeout(Fe),Fe=setTimeout(function(){Fe=0},600))}var t;E("pointerUp"),_t(e,!1)&&e.preventDefault(),he&&-1<(a=h.arraySearch(ft,e.pointerId,"id"))&&(t=ft.splice(a,1)[0],navigator.msPointerEnabled&&(t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type)||(t.type=e.pointerType||"mouse"));var n=(a=Nt(e)).length;if(2===(n="mouseup"===e.type?0:n))return!(u=null);1===n&&S(mt,a[0]),0!==n||Pe||y||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),E("touchRelease",e,t));var i,o,a=-1;if(0===n&&(l=!1,h.unbind(window,ee,m),Ft(),c?a=0:-1!==xt&&(a=I()-xt)),xt=1===n?I():-1,e=-1!==a&&a<150?"zoom":"swipe",c&&n<2&&(c=!1,1===n&&(e="zoomPointerUp"),E("zoomGestureEnded")),u=null,Me||De||y||Te)if(ut(),(Ee=Ee||Ht()).calculateSwipeSpeed("x"),Te)At()<f.verticalDragRange?m.close():(i=b.y,o=ze,ct("verticalDrag",0,1,300,h.easing.cubic.out,function(e){b.y=(m.currItem.initialPosition.y-i)*e+i,T((1-o)*e+o),F()}),E("onVerticalDrag",1));else{if((_e||y)&&0===n){if(Ut(e,Ee))return;e="zoomPointerUp"}if(!y)return"swipe"!==e?void Xt():void(!_e&&v>m.currItem.fitRatio&&Wt(Ee))}}var $,q,V,g,J,Q,ee,te,i,v,ne,ie,oe,ae,re,r,se,le,ue,ce,de,pe,he,o,me,fe,ge,ve,ye,be,s,we,xe,Ce,Ee,Ie,Te,Fe,l,Se,De,Me,ke,_e,u,c,Oe,d,Le,y,Pe,Ae,Re,ze,Ze,Ne,Be=e(),je=e(),b=e(),w={},He=0,We={},x=e(),C=0,Ue=!0,Ke=[],Xe={},Ge=!1,Ye={},E=function(e){var t=Ye[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(m,n)}},I=function(){return(new Date).getTime()},T=function(e){ze=e,m.bg.style.opacity=e*f.bgOpacity},$e=function(e,t,n,i,o){(!Ge||o&&o!==m.currItem)&&(i/=(o||m.currItem).fitRatio),e[pe]=ie+t+"px, "+n+"px"+oe+" scale("+i+")"},F=function(e){Le&&(e&&(v>m.currItem.fitRatio?Ge||(un(m.currItem,!1,!0),Ge=!0):Ge&&(un(m.currItem),Ge=!1)),$e(Le,b.x,b.y,v))},qe=function(e){e.container&&$e(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Ve=function(e,t){t[pe]=ie+e+"px, 0px"+oe},Je=function(e,t){var n;!f.loop&&t&&(t=g+(x.x*He-e)/x.x,n=Math.round(e-O.x),t<0&&0<n||t>=L()-1&&n<0)&&(e=O.x+n*f.mainScrollEndFriction),O.x=e,Ve(e,J)},Qe=function(e,t){var n=Ct[e]-We[e];return je[e]+Be[e]+n-t/ne*n},S=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},et=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},tt=null,nt=function(){tt&&(h.unbind(document,"mousemove",nt),h.addClass(p,"pswp--has_mouse"),f.mouseUsed=!0,E("mouseUsed")),tt=setTimeout(function(){tt=null},100)},it=function(e,t){e=sn(m.currItem,w,e);return t&&(d=e),e},ot=function(e){return(e=e||m.currItem).initialZoomLevel},at=function(e){return 0<(e=e||m.currItem).w?f.maxSpreadZoom:1},D={},rt=0,st=function(e){D[e]&&(D[e].raf&&fe(D[e].raf),rt--,delete D[e])},lt=function(e){D[e]&&st(e),D[e]||(rt++,D[e]={})},ut=function(){for(var e in D)D.hasOwnProperty(e)&&st(e)},ct=function(e,t,n,i,o,a,r){function s(){D[e]&&(l=I()-u,i<=l?(st(e),a(n),r&&r()):(a((n-t)*o(l/i)+t),D[e].raf=me(s)))}var l,u=I();lt(e);s()},Z={shout:E,listen:a,viewportSize:w,options:f,isMainScrollAnimating:function(){return y},getZoomLevel:function(){return v},getCurrentIndex:function(){return g},isDragging:function(){return l},isZooming:function(){return c},setScrollOffset:function(e,t){We.x=e,be=We.y=t,E("updateScrollOffset",We)},applyZoomPan:function(e,t,n,i){b.x=t,b.y=n,v=e,F(i)},init:function(){if(!$&&!q){m.framework=h,m.template=p,m.bg=h.getChildByClass(p,"pswp__bg"),ge=p.className,$=!0,s=h.detectFeatures(),me=s.raf,fe=s.caf,pe=s.transform,ye=s.oldIE,m.scrollWrap=h.getChildByClass(p,"pswp__scroll-wrap"),m.container=h.getChildByClass(m.scrollWrap,"pswp__container"),J=m.container.style,m.itemHolders=r=[{el:m.container.children[0],wrap:0,index:-1},{el:m.container.children[1],wrap:0,index:-1},{el:m.container.children[2],wrap:0,index:-1}],r[0].el.style.display=r[2].el.style.display="none",pe?(t=s.perspective&&!o,ie="translate"+(t?"3d(":"("),oe=s.perspective?", 0px)":")"):(pe="left",h.addClass(p,"pswp--ie"),Ve=function(e,t){t.left=e+"px"},qe=function(e){var t=1<e.fitRatio?1:e.fitRatio,n=e.container.style,i=t*e.h;n.width=t*e.w+"px",n.height=i+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},F=function(){var e,t,n,i;Le&&(e=Le,i=(n=1<(t=m.currItem).fitRatio?1:t.fitRatio)*t.h,e.width=n*t.w+"px",e.height=i+"px",e.left=b.x+"px",e.top=b.y+"px")}),i={resize:m.updateSize,orientationchange:function(){clearTimeout(we),we=setTimeout(function(){w.x!==m.scrollWrap.clientWidth&&m.updateSize()},500)},scroll:K,keydown:W,click:U};var e,t=s.isOldIOSPhone||s.isOldAndroid||s.isMobileOpera;for(s.animationName&&s.transform&&!t||(f.showAnimationDuration=f.hideAnimationDuration=0),e=0;e<Ke.length;e++)m["init"+Ke[e]]();z&&(m.ui=new z(m,h)).init(),E("firstUpdate"),g=g||f.index||0,(isNaN(g)||g<0||g>=L())&&(g=0),m.currItem=en(g),(s.isOldIOSPhone||s.isOldAndroid)&&(Ue=!1),p.setAttribute("aria-hidden","false"),f.modal&&(Ue?p.style.position="fixed":(p.style.position="absolute",p.style.top=h.getScrollY()+"px")),void 0===be&&(E("initialLayout"),be=ve=h.getScrollY());var n="pswp--open ";for(f.mainClass&&(n+=f.mainClass+" "),f.showHideOpacity&&(n+="pswp--animate_opacity "),n=(n=(n+=o?"pswp--touch":"pswp--notouch")+(s.animationName?" pswp--css_animation":""))+(s.svg?" pswp--svg":""),h.addClass(p,n),m.updateSize(),Q=-1,C=null,e=0;e<3;e++)Ve((e+Q)*x.x,r[e].el.style);ye||h.bind(m.scrollWrap,te,m),a("initialZoomInEnd",function(){m.setContent(r[0],g-1),m.setContent(r[2],g+1),r[0].el.style.display=r[2].el.style.display="block",f.focus&&p.focus(),h.bind(document,"keydown",m),s.transform&&h.bind(m.scrollWrap,"click",m),f.mouseUsed||h.bind(document,"mousemove",nt),h.bind(window,"resize scroll orientationchange",m),E("bindEvents")}),m.setContent(r[1],g),m.updateCurrItem(),E("afterInit"),Ue||(ae=setInterval(function(){rt||l||c||v!==m.currItem.initialZoomLevel||m.updateSize()},1e3)),h.addClass(p,"pswp--visible")}var t},close:function(){$&&(q=!($=!1),E("close"),h.unbind(window,"resize scroll orientationchange",m),h.unbind(window,"scroll",i.scroll),h.unbind(document,"keydown",m),h.unbind(document,"mousemove",nt),s.transform&&h.unbind(m.scrollWrap,"click",m),l&&h.unbind(window,ee,m),clearTimeout(we),E("unbindEvents"),tn(m.currItem,null,!0,m.destroy))},destroy:function(){E("destroy"),qt&&clearTimeout(qt),p.setAttribute("aria-hidden","true"),p.className=ge,ae&&clearInterval(ae),h.unbind(m.scrollWrap,te,m),h.unbind(window,"scroll",m),Ft(),ut(),Ye=null},panTo:function(e,t,n){n||(e>d.min.x?e=d.min.x:e<d.max.x&&(e=d.max.x),t>d.min.y?t=d.min.y:t<d.max.y&&(t=d.max.y)),b.x=e,b.y=t,F()},handleEvent:function(e){e=e||window.event,i[e.type]&&i[e.type](e)},goTo:function(e){var t=(e=j(e))-g;C=t,g=e,m.currItem=en(g),He-=t,Je(x.x*He),ut(),y=!1,m.updateCurrItem()},next:function(){m.goTo(g+1)},prev:function(){m.goTo(g-1)},updateCurrZoomItem:function(e){var t;e&&E("beforeChange",0),Le=r[1].el.children.length&&(t=r[1].el.children[0],h.hasClass(t,"pswp__zoom-wrap"))?t.style:null,d=m.currItem.bounds,ne=v=m.currItem.initialZoomLevel,b.x=d.center.x,b.y=d.center.y,e&&E("afterChange")},invalidateCurrItems:function(){re=!0;for(var e=0;e<3;e++)r[e].item&&(r[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==C){var t,n=Math.abs(C);if(!(e&&n<2)){m.currItem=en(g),Ge=!1,E("beforeChange",C),3<=n&&(Q+=C+(0<C?-3:3),n=3);for(var i=0;i<n;i++)0<C?(t=r.shift(),r[2]=t,Ve((++Q+2)*x.x,t.el.style),m.setContent(t,g-n+i+1+1)):(t=r.pop(),r.unshift(t),Ve(--Q*x.x,t.el.style),m.setContent(t,g+n-i-1-1));Le&&1===Math.abs(C)&&(e=en(se)).initialZoomLevel!==v&&(sn(e,w),un(e),qe(e)),C=0,m.updateCurrZoomItem(),se=g,E("afterChange")}}},updateSize:function(e){if(!Ue&&f.modal){var t=h.getScrollY();if(be!==t&&(p.style.top=t+"px",be=t),!e&&Xe.x===window.innerWidth&&Xe.y===window.innerHeight)return;Xe.x=window.innerWidth,Xe.y=window.innerHeight,p.style.height=Xe.y+"px"}if(w.x=m.scrollWrap.clientWidth,w.y=m.scrollWrap.clientHeight,K(),x.x=w.x+Math.round(w.x*f.spacing),x.y=w.y,Je(x.x*He),E("beforeResize"),void 0!==Q){for(var n,i,o,a=0;a<3;a++)n=r[a],Ve((a+Q)*x.x,n.el.style),o=g+a-1,f.loop&&2<L()&&(o=j(o)),(i=en(o))&&(re||i.needsUpdate||!i.bounds)?(m.cleanSlide(i),m.setContent(n,o),1===a&&(m.currItem=i,m.updateCurrZoomItem(!0)),i.needsUpdate=!1):-1===n.index&&0<=o&&m.setContent(n,o),i&&i.container&&(sn(i,w),un(i),qe(i));re=!1}ne=v=m.currItem.initialZoomLevel,(d=m.currItem.bounds)&&(b.x=d.center.x,b.y=d.center.y,F(!0)),E("resize")},zoomTo:function(t,e,n,i,o){e&&(ne=v,Ct.x=Math.abs(e.x)-b.x,Ct.y=Math.abs(e.y)-b.y,S(je,b));function a(e){1===e?(v=t,b.x=r.x,b.y=r.y):(v=(t-s)*e+s,b.x=(r.x-l.x)*e+l.x,b.y=(r.y-l.y)*e+l.y),o&&o(e),F(1===e)}var e=it(t,!1),r={},s=(H("x",e,r,t),H("y",e,r,t),v),l={x:b.x,y:b.y};et(r);n?ct("customZoomTo",0,1,n,i||h.easing.sine.inOut,a):a(1)}},dt=30,pt=10,M={},ht={},k={},_={},mt={},ft=[],gt={},vt=[],yt={},bt=0,wt=e(),xt=0,O=e(),Ct=e(),Et=e(),It=function(e,t){return e.x===t.x&&e.y===t.y},Tt=function(e,t){return yt.x=Math.abs(e.x-t.x),yt.y=Math.abs(e.y-t.y),Math.sqrt(yt.x*yt.x+yt.y*yt.y)},Ft=function(){ke&&(fe(ke),ke=null)},St=function(){l&&(ke=me(St),jt())},Dt=function(){return!("fit"===f.scaleMode&&v===m.currItem.initialZoomLevel)},Mt=function(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&-1<e.getAttribute("class").indexOf("pswp__scroll-wrap"))&&(t(e)?e:Mt(e.parentNode,t))},kt={},_t=function(e,t){return kt.prevent=!Mt(e.target,f.isClickableElement),E("preventDragEvent",e,t,kt),kt.prevent},Ot=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Lt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},Pt=function(e,t,n){var i;50<e-Ce&&((i=2<vt.length?vt.shift():{}).x=t,i.y=n,vt.push(i),Ce=e)},At=function(){var e=b.y-m.currItem.initialPosition.y;return 1-Math.abs(e/(w.y/2))},Rt={},zt={},Zt=[],Nt=function(e){for(;0<Zt.length;)Zt.pop();return he?(Ne=0,ft.forEach(function(e){0===Ne?Zt[0]=e:1===Ne&&(Zt[1]=e),Ne++})):-1<e.type.indexOf("touch")?e.touches&&0<e.touches.length&&(Zt[0]=Ot(e.touches[0],Rt),1<e.touches.length)&&(Zt[1]=Ot(e.touches[1],zt)):(Rt.x=e.pageX,Rt.y=e.pageY,Rt.id="",Zt[0]=Rt),Zt},Bt=function(e,t){var n,i,o,a=b[e]+t[e],r=O.x+t.x,s=O.x-gt.x,l=a>d.min[e]||a<d.max[e]?f.panEndFriction:1,a=b[e]+t[e]*l;return!f.allowPanToNext&&v!==m.currItem.initialZoomLevel||(Le?"h"!==Pe||"x"!==e||De||(0<t[e]?(a>d.min[e]&&(l=f.panEndFriction,d.min[e],n=d.min[e]-je[e]),(n<=0||s<0)&&1<L()?(o=r,s<0&&r>gt.x&&(o=gt.x)):d.min.x!==d.max.x&&(i=a)):(a<d.max[e]&&(l=f.panEndFriction,d.max[e],n=je[e]-d.max[e]),(n<=0||0<s)&&1<L()?(o=r,0<s&&r<gt.x&&(o=gt.x)):d.min.x!==d.max.x&&(i=a))):o=r,"x"!==e)?void(y||_e||v>m.currItem.fitRatio&&(b[e]+=t[e]*l)):(void 0!==o&&(Je(o,!0),_e=o!==gt.x),d.min.x!==d.max.x&&(void 0!==i?b.x=i:_e||(b.x+=t.x*l)),void 0!==o)},jt=function(){var e,t,n,i,o,a;u&&0!==(e=u.length)&&(S(M,u[0]),k.x=M.x-_.x,k.y=M.y-_.y,c&&1<e?(_.x=M.x,_.y=M.y,!k.x&&!k.y&&It(u[1],ht)||(S(ht,u[1]),De||(De=!0,E("zoomGestureStarted")),e=Tt(M,ht),(t=Kt(e))>m.currItem.initialZoomLevel+m.currItem.initialZoomLevel/15&&(Ze=!0),n=1,i=ot(),o=at(),t<i?f.pinchToClose&&!Ze&&ne<=m.currItem.initialZoomLevel?(T(a=1-(i-t)/(i/1.2)),E("onPinchClose",a),Re=!0):t=i-(n=1<(n=(i-t)/i)?1:n)*(i/3):o<t&&(t=o+(n=1<(n=(t-o)/(6*i))?1:n)*i),n<0&&(n=0),Lt(M,ht,wt),Be.x+=wt.x-Et.x,Be.y+=wt.y-Et.y,S(Et,wt),b.x=Qe("x",t),b.y=Qe("y",t),Ie=v<t,v=t,F())):Pe&&(Ae&&(Ae=!1,Math.abs(k.x)>=pt&&(k.x-=u[0].x-mt.x),Math.abs(k.y)>=pt)&&(k.y-=u[0].y-mt.y),_.x=M.x,_.y=M.y,0===k.x&&0===k.y||("v"===Pe&&f.closeOnVerticalDrag&&!Dt()?(Be.y+=k.y,b.y+=k.y,a=At(),Te=!0,E("onVerticalDrag",a),T(a),F()):(Pt(I(),M.x,M.y),Me=!0,d=m.currItem.bounds,Bt("x",k)||(Bt("y",k),et(b),F())))))},Ht=function(){var t,n,i={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(e){n=(1<vt.length?(t=I()-Ce+50,vt[vt.length-2]):(t=I()-xe,mt))[e],i.lastFlickOffset[e]=_[e]-n,i.lastFlickDist[e]=Math.abs(i.lastFlickOffset[e]),20<i.lastFlickDist[e]?i.lastFlickSpeed[e]=i.lastFlickOffset[e]/t:i.lastFlickSpeed[e]=0,Math.abs(i.lastFlickSpeed[e])<.1&&(i.lastFlickSpeed[e]=0),i.slowDownRatio[e]=.95,i.slowDownRatioReverse[e]=1-i.slowDownRatio[e],i.speedDecelerationRatio[e]=1},calculateOverBoundsAnimOffset:function(t,e){i.backAnimStarted[t]||(b[t]>d.min[t]?i.backAnimDestination[t]=d.min[t]:b[t]<d.max[t]&&(i.backAnimDestination[t]=d.max[t]),void 0!==i.backAnimDestination[t]&&(i.slowDownRatio[t]=.7,i.slowDownRatioReverse[t]=1-i.slowDownRatio[t],i.speedDecelerationRatioAbs[t]<.05)&&(i.lastFlickSpeed[t]=0,i.backAnimStarted[t]=!0,ct("bounceZoomPan"+t,b[t],i.backAnimDestination[t],e||300,h.easing.sine.out,function(e){b[t]=e,F()})))},calculateAnimOffset:function(e){i.backAnimStarted[e]||(i.speedDecelerationRatio[e]=i.speedDecelerationRatio[e]*(i.slowDownRatio[e]+i.slowDownRatioReverse[e]-i.slowDownRatioReverse[e]*i.timeDiff/10),i.speedDecelerationRatioAbs[e]=Math.abs(i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]),i.distanceOffset[e]=i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]*i.timeDiff,b[e]+=i.distanceOffset[e])},panAnimLoop:function(){D.zoomPan&&(D.zoomPan.raf=me(i.panAnimLoop),i.now=I(),i.timeDiff=i.now-i.lastNow,i.lastNow=i.now,i.calculateAnimOffset("x"),i.calculateAnimOffset("y"),F(),i.calculateOverBoundsAnimOffset("x"),i.calculateOverBoundsAnimOffset("y"),i.speedDecelerationRatioAbs.x<.05)&&i.speedDecelerationRatioAbs.y<.05&&(b.x=Math.round(b.x),b.y=Math.round(b.y),F(),st("zoomPan"))}};return i},Wt=function(e){return e.calculateSwipeSpeed("y"),d=m.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(lt("zoomPan"),e.lastNow=I(),void e.panAnimLoop())},Ut=function(e,t){var n,i,o;y||(bt=g),"swipe"===e&&(e=_.x-mt.x,a=t.lastFlickDist.x<10,dt<e&&(a||20<t.lastFlickOffset.x)?i=-1:e<-dt&&(a||t.lastFlickOffset.x<-20)&&(i=1)),i&&((g+=i)<0?(g=f.loop?L()-1:0,o=!0):g>=L()&&(g=f.loop?0:L()-1,o=!0),o&&!f.loop||(C+=i,He-=i,n=!0));var e=x.x*He,a=Math.abs(e-O.x),r=n||e>O.x==0<t.lastFlickSpeed.x?(r=0<Math.abs(t.lastFlickSpeed.x)?a/Math.abs(t.lastFlickSpeed.x):333,r=Math.min(r,400),Math.max(r,250)):333;return bt===g&&(n=!1),y=!0,E("mainScrollAnimStart"),ct("mainScroll",O.x,e,r,h.easing.cubic.out,Je,function(){ut(),y=!1,bt=-1,!n&&bt===g||m.updateCurrItem(),E("mainScrollAnimComplete")}),n&&m.updateCurrItem(!0),n},Kt=function(e){return 1/Oe*e*ne},Xt=function(){var e=v,t=ot(),n=at();v<t?e=t:n<v&&(e=n);var i,o=ze;return Re&&!Ie&&!Ze&&v<t?m.close():(Re&&(i=function(e){T((1-o)*e+o)}),m.zoomTo(e,0,200,h.easing.cubic.out,i)),!0};B("Gestures",{publicMethods:{initGestures:function(){function e(e,t,n,i,o){le=e+t,ue=e+n,ce=e+i,de=o?e+o:""}(he=s.pointerEvent)&&s.touch&&(s.touch=!1),he?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):s.touch?(e("touch","start","move","end","cancel"),o=!0):e("mouse","down","move","up"),ee=ue+" "+ce+" "+de,te=le,he&&!o&&(o=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints),m.likelyTouchDevice=o,i[le]=X,i[ue]=G,i[ce]=Y,de&&(i[de]=i[ce]),s.touch&&(te+=" mousedown",ee+=" mousemove mouseup",i.mousedown=i[le],i.mousemove=i[ue],i.mouseup=i[ce]),o||(f.allowPanToNext=!1)}}});function Gt(e){function t(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,n.onload=n.onerror=null,n=null}e.loading=!0,e.loaded=!1;var n=e.img=h.createEl("pswp__img","img");n.onload=t,n.onerror=function(){e.loadError=!0,t()},n.src=e.src}function Yt(e,t){return e.src&&e.loadError&&e.container&&(t&&(e.container.innerHTML=""),e.container.innerHTML=f.errorMsg.replace("%url%",e.src),1)}function $t(){if(nn.length){for(var e,t=0;t<nn.length;t++)(e=nn[t]).holder.index===e.index&&ln(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);nn=[]}}var qt,Vt,Jt,Qt,en,L,tn=function(a,e,r,t){function s(){st("initialZoom"),r?(m.template.removeAttribute("style"),m.bg.removeAttribute("style")):(T(1),e&&(e.style.display="block"),h.addClass(p,"pswp--animated-in"),E("initialZoom"+(r?"OutEnd":"InEnd"))),t&&t(),Qt=!1}qt&&clearTimeout(qt),Jt=Qt=!0,a.initialLayout?(l=a.initialLayout,a.initialLayout=null):l=f.getThumbBoundsFn&&f.getThumbBoundsFn(g);var l,u,c,d=r?f.hideAnimationDuration:f.showAnimationDuration;d&&l&&void 0!==l.x?(u=V,c=!m.currItem.src||m.currItem.loadError||f.showHideOpacity,a.miniImg&&(a.miniImg.style.webkitBackfaceVisibility="hidden"),r||(v=l.w/a.w,b.x=l.x,b.y=l.y-ve,m[c?"template":"bg"].style.opacity=.001,F()),lt("initialZoom"),r&&!u&&h.removeClass(p,"pswp--animated-in"),c&&(r?h[(u?"remove":"add")+"Class"](p,"pswp--animate_opacity"):setTimeout(function(){h.addClass(p,"pswp--animate_opacity")},30)),qt=setTimeout(function(){var t,n,i,o,e;E("initialZoom"+(r?"Out":"In")),r?(t=l.w/a.w,n={x:b.x,y:b.y},i=v,o=ze,e=function(e){1===e?(v=t,b.x=l.x,b.y=l.y-be):(v=(t-i)*e+i,b.x=(l.x-n.x)*e+n.x,b.y=(l.y-be-n.y)*e+n.y),F(),c?p.style.opacity=1-e:T(o-e*o)},u?ct("initialZoom",0,1,d,h.easing.cubic.out,e,s):(e(1),qt=setTimeout(s,d+20))):(v=a.initialZoomLevel,S(b,a.initialPosition),F(),T(1),c?p.style.opacity=1:T(1),qt=setTimeout(s,d+20))},r?25:90)):(E("initialZoom"+(r?"Out":"In")),v=a.initialZoomLevel,S(b,a.initialPosition),F(),p.style.opacity=r?0:1,T(1),d?setTimeout(function(){s()},d):s())},P={},nn=[],on={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Vt.length}},an=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},rn=function(e,t,n){var i=e.bounds;i.center.x=Math.round((P.x-t)/2),i.center.y=Math.round((P.y-n)/2)+e.vGap.top,i.max.x=t>P.x?Math.round(P.x-t):i.center.x,i.max.y=n>P.y?Math.round(P.y-n)+e.vGap.top:i.center.y,i.min.x=t>P.x?0:i.center.x,i.min.y=n>P.y?e.vGap.top:i.center.y},sn=function(e,t,n){var i,o;return e.src&&!e.loadError?((i=!n)&&(e.vGap||(e.vGap={top:0,bottom:0}),E("parseVerticalMargin",e)),P.x=t.x,P.y=t.y-e.vGap.top-e.vGap.bottom,i&&(t=P.x/e.w,o=P.y/e.h,e.fitRatio=t<o?t:o,"orig"===(t=f.scaleMode)?n=1:"fit"===t&&(n=e.fitRatio),e.initialZoomLevel=n=1<n?1:n,e.bounds||(e.bounds=an())),n?(rn(e,e.w*n,e.h*n),i&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds):void 0):(e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=an(),e.initialPosition=e.bounds.center,e.bounds)},ln=function(e,t,n,i,o,a){t.loadError||i&&(t.imageAppended=!0,un(t,i,t===m.currItem&&Ge),n.appendChild(i),a)&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500)},un=function(e,t,n){var i;e.src&&(t=t||e.container.lastChild,i=n?e.w:Math.round(e.w*e.fitRatio),n=n?e.h:Math.round(e.h*e.fitRatio),e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=n+"px"),t.style.width=i+"px",t.style.height=n+"px")};B("Controller",{publicMethods:{lazyLoadItem:function(e){e=j(e);var t=en(e);t&&(!t.loaded&&!t.loading||re)&&(E("gettingData",e,t),t.src)&&Gt(t)},initController:function(){h.extend(f,on,!0),m.items=Vt=t,en=m.getItemAt,L=f.getNumItemsFn,f.loop,L()<3&&(f.loop=!1),a("beforeChange",function(e){for(var t=f.preload,n=null===e||0<=e,i=Math.min(t[0],L()),o=Math.min(t[1],L()),a=1;a<=(n?o:i);a++)m.lazyLoadItem(g+a);for(a=1;a<=(n?i:o);a++)m.lazyLoadItem(g-a)}),a("initialLayout",function(){m.currItem.initialLayout=f.getThumbBoundsFn&&f.getThumbBoundsFn(g)}),a("mainScrollAnimComplete",$t),a("initialZoomInEnd",$t),a("destroy",function(){for(var e,t=0;t<Vt.length;t++)(e=Vt[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);nn=null})},getItemAt:function(e){return 0<=e&&void 0!==Vt[e]&&Vt[e]},allowProgressiveImg:function(){return f.forceProgressiveLoading||!o||f.mouseUsed||1200<screen.width},setContent:function(t,n){f.loop&&(n=j(n));var e=m.getItemAt(t.index);e&&(e.container=null);var i,o,a,e=m.getItemAt(n);e?(E("gettingData",n,e),t.index=n,o=(t.item=e).container=h.createEl("pswp__zoom-wrap"),!e.src&&e.html&&(e.html.tagName?o.appendChild(e.html):o.innerHTML=e.html),Yt(e),sn(e,w),!e.src||e.loadError||e.loaded?e.src&&!e.loadError&&((i=h.createEl("pswp__img","img")).style.opacity=1,i.src=e.src,un(e,i),ln(n,e,o,i,!0)):(e.loadComplete=function(e){if($){if(t&&t.index===n){if(Yt(e,!0))return e.loadComplete=e.img=null,sn(e,w),qe(e),void(t.index===g&&m.updateCurrZoomItem());e.imageAppended?!Qt&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null):s.transform&&(y||Qt)?nn.push({item:e,baseDiv:o,img:e.img,index:n,holder:t,clearPlaceholder:!0}):ln(n,e,o,e.img,y||Qt,!0)}e.loadComplete=null,e.img=null,E("imageLoadComplete",n,e)}},h.features.transform&&(a="pswp__img pswp__img--placeholder",a+=e.msrc?"":" pswp__img--placeholder--blank",a=h.createEl(a,e.msrc?"img":""),e.msrc&&(a.src=e.msrc),un(e,a),o.appendChild(a),e.placeholder=a),e.loading||Gt(e),m.allowProgressiveImg()&&(!Jt&&s.transform?nn.push({item:e,baseDiv:o,img:e.img,index:n,holder:t}):ln(n,e,o,e.img,!0,!0))),Jt||n!==g?qe(e):(Le=o.style,tn(e,i||e.img)),t.el.innerHTML="",t.el.appendChild(o)):t.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});function cn(e,t,n){var i=document.createEvent("CustomEvent"),t={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,t),e.target.dispatchEvent(i)}var dn,A,pn={};B("Tap",{publicMethods:{initTap:function(){a("firstTouchStart",m.onTapStart),a("touchRelease",m.onTapRelease),a("destroy",function(){pn={},dn=null})},onTapStart:function(e){1<e.length&&(clearTimeout(dn),dn=null)},onTapRelease:function(e,t){var n,i,o;!t||Me||Se||rt||(n=t,dn&&(clearTimeout(dn),dn=null,i=n,o=pn,Math.abs(i.x-o.x)<N)&&Math.abs(i.y-o.y)<N?E("doubleTap",n):"mouse"===t.type?cn(e,t,"mouse"):"BUTTON"===e.target.tagName.toUpperCase()||h.hasClass(e.target,"pswp__single-tap")?cn(e,t):(S(pn,n),dn=setTimeout(function(){cn(e,t),dn=null},300)))}}}),B("DesktopZoom",{publicMethods:{initDesktopZoom:function(){ye||(o?a("mouseUsed",function(){m.setupDesktopZoom()}):m.setupDesktopZoom(!0))},setupDesktopZoom:function(e){A={};var t="wheel mousewheel DOMMouseScroll";a("bindEvents",function(){h.bind(p,t,m.handleMouseWheel)}),a("unbindEvents",function(){A&&h.unbind(p,t,m.handleMouseWheel)}),m.mouseZoomedIn=!1;function n(){m.mouseZoomedIn&&(h.removeClass(p,"pswp--zoomed-in"),m.mouseZoomedIn=!1),v<1?h.addClass(p,"pswp--zoom-allowed"):h.removeClass(p,"pswp--zoom-allowed"),o()}var i,o=function(){i&&(h.removeClass(p,"pswp--dragging"),i=!1)};a("resize",n),a("afterChange",n),a("pointerDown",function(){m.mouseZoomedIn&&(i=!0,h.addClass(p,"pswp--dragging"))}),a("pointerUp",o),e||n()},handleMouseWheel:function(e){if(v<=m.currItem.fitRatio)return f.modal&&(!f.closeOnScroll||rt||l?e.preventDefault():pe&&2<Math.abs(e.deltaY)&&(V=!0,m.close())),!0;if(e.stopPropagation(),A.x=0,"deltaX"in e)1===e.deltaMode?(A.x=18*e.deltaX,A.y=18*e.deltaY):(A.x=e.deltaX,A.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(A.x=-.16*e.wheelDeltaX),A.y=e.wheelDeltaY?-.16*e.wheelDeltaY:-.16*e.wheelDelta;else{if(!("detail"in e))return;A.y=e.detail}it(v,!0);var t=b.x-A.x,n=b.y-A.y;(f.modal||t<=d.min.x&&t>=d.max.x&&n<=d.min.y&&n>=d.max.y)&&e.preventDefault(),m.panTo(t,n)},toggleDesktopZoom:function(e){e=e||{x:w.x/2+We.x,y:w.y/2+We.y};var t=f.getDoubleTapZoom(!0,m.currItem),n=v===t;m.mouseZoomedIn=!n,m.zoomTo(n?m.currItem.initialZoomLevel:t,e,333),h[(n?"remove":"add")+"Class"](p,"pswp--zoomed-in")}}});function hn(){fn&&clearTimeout(fn),vn&&clearTimeout(vn)}function mn(){var e=Fn(),t={};if(!(e.length<5)){var n,i=e.split("&");for(a=0;a<i.length;a++)!i[a]||(n=i[a].split("=")).length<2||(t[n[0]]=n[1]);if(f.galleryPIDs){for(var o=t.pid,a=t.pid=0;a<Vt.length;a++)if(Vt[a].pid===o){t.pid=a;break}}else t.pid=parseInt(t.pid,10)-1;t.pid<0&&(t.pid=0)}return t}var fn,gn,vn,yn,bn,wn,n,xn,Cn,En,R,In,Tn={history:!0,galleryUID:1},Fn=function(){return R.hash.substring(1)},Sn=function(){var e,t;vn&&clearTimeout(vn),rt||l?vn=setTimeout(Sn,500):(yn?clearTimeout(gn):yn=!0,t=g+1,(e=en(g)).hasOwnProperty("pid")&&(t=e.pid),e=n+"&gid="+f.galleryUID+"&pid="+t,xn||-1===R.hash.indexOf(e)&&(En=!0),t=R.href.split("#")[0]+"#"+e,In?"#"+e!==window.location.hash&&history[xn?"replaceState":"pushState"]("",document.title,t):xn?R.replace(t):R.hash=e,xn=!0,gn=setTimeout(function(){yn=!1},60))};B("History",{publicMethods:{initHistory:function(){var e,t;h.extend(f,Tn,!0),f.history&&(R=window.location,xn=Cn=En=!1,n=Fn(),In="pushState"in history,-1<n.indexOf("gid=")&&(n=(n=n.split("&gid=")[0]).split("?gid=")[0]),a("afterChange",m.updateURL),a("unbindEvents",function(){h.unbind(window,"hashchange",m.onHashChange)}),e=function(){wn=!0,Cn||(En?history.back():n?R.hash=n:In?history.pushState("",document.title,R.pathname+R.search):R.hash=""),hn()},a("unbindEvents",function(){V&&e()}),a("destroy",function(){wn||e()}),a("firstUpdate",function(){g=mn().pid}),-1<(t=n.indexOf("pid="))&&"&"===(n=n.substring(0,t)).slice(-1)&&(n=n.slice(0,-1)),setTimeout(function(){$&&h.bind(window,"hashchange",m.onHashChange)},40))},onHashChange:function(){return Fn()===n?(Cn=!0,void m.close()):void(yn||(bn=!0,m.goTo(mn().pid),bn=!1))},updateURL:function(){hn(),bn||(xn?fn=setTimeout(Sn,800):Sn())}}}),h.extend(m,Z)}}),((e,t)=>{"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()})(this,function(){return function(i,s){function e(e){if(T)return!0;e=e||window.event,I.timeToIdle&&I.mouseUsed&&!y&&r();for(var t,n,i=(e.target||e.srcElement).getAttribute("class")||"",o=0;o<A.length;o++)(t=A[o]).onTap&&-1<i.indexOf("pswp__"+t.name)&&(t.onTap(),n=!0);n&&(e.stopPropagation&&e.stopPropagation(),T=!0,e=s.features.isOldAndroid?600:30,setTimeout(function(){T=!1},e))}function n(){var e=1===I.getNumItemsFn();e!==E&&(O(d,"ui--one-slide",e),E=e)}function t(){O(g,"share-modal--hidden",_)}function o(){for(var e,t,n,i,o="",a=0;a<I.shareButtons.length;a++)e=I.shareButtons[a],t=I.getImageURLForShare(e),n=I.getPageURLForShare(e),i=I.getTextForShare(e),o+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(i))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",I.parseShareButtonOut&&(o=I.parseShareButtonOut(e,o));g.children[0].innerHTML=o,g.children[0].onclick=N}function a(e){for(var t=0;t<I.closeElClasses.length;t++)if(s.hasClass(e,"pswp__"+I.closeElClasses[t]))return!0}function r(){clearTimeout(S),P=0,y&&D.setIdle(!1)}function l(e){(e=(e=e||window.event).relatedTarget||e.toElement)&&"HTML"!==e.nodeName||(clearTimeout(S),S=setTimeout(function(){D.setIdle(!0)},I.timeToIdleOutside))}function u(e){x!==e&&(O(w,"preloader--active",!e),x=e)}function R(e){var t,n=e.vGap;!i.likelyTouchDevice||I.mouseUsed||screen.width>I.fitControlsWidth?(t=I.barsSize,I.captionEl&&"auto"===t.bottom?(h||((h=s.createEl("pswp__caption pswp__caption--fake")).appendChild(s.createEl("pswp__caption__center")),d.insertBefore(h,p),s.addClass(d,"pswp__ui--fit")),I.addCaptionHTMLFn(e,h,!0)?(e=h.clientHeight,n.bottom=parseInt(e,10)||44):n.bottom=t.top):n.bottom="auto"===t.bottom?0:t.bottom,n.top=t.top):n.top=n.bottom=0}function z(){function e(e){if(e)for(var t=e.length,n=0;n<t;n++){o=e[n],a=o.className;for(var i=0;i<A.length;i++)r=A[i],-1<a.indexOf("pswp__"+r.name)&&(I[r.option]?(s.removeClass(o,"pswp__element--disabled"),r.onInit&&r.onInit(o)):s.addClass(o,"pswp__element--disabled"))}}e(d.children);var o,a,r,t=s.getChildByClass(d,"pswp__top-bar");t&&e(t.children)}var c,d,p,h,m,f,g,v,y,b,w,x,C,E,I,T,F,S,D=this,M=!1,k=!0,_=!0,Z={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return i.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return i.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},O=function(e,t,n){s[(n?"add":"remove")+"Class"](e,"pswp__"+t)},L=function(){return(_=!_)?(s.removeClass(g,"pswp__share-modal--fade-in"),setTimeout(function(){_&&t()},300)):(t(),setTimeout(function(){_||s.addClass(g,"pswp__share-modal--fade-in")},30)),_||o(),!1},N=function(e){var t=(e=e||window.event).target||e.srcElement;return i.shout("shareLinkClick",e,t),!(!t.href||!t.hasAttribute("download")&&(window.open(t.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),_||L(),1))},P=0,A=[{name:"caption",option:"captionEl",onInit:function(e){p=e}},{name:"share-modal",option:"shareEl",onInit:function(e){g=e},onTap:function(){L()}},{name:"button--share",option:"shareEl",onInit:function(e){f=e},onTap:function(){L()}},{name:"button--zoom",option:"zoomEl",onTap:i.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){m=e}},{name:"button--close",option:"closeEl",onTap:i.close},{name:"button--arrow--left",option:"arrowEl",onTap:i.prev},{name:"button--arrow--right",option:"arrowEl",onTap:i.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){c.isFullscreen()?c.exit():c.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){w=e}}];D.init=function(){var t;s.extend(i.options,Z,!0),I=i.options,d=s.getChildByClass(i.scrollWrap,"pswp__ui"),(b=i.listen)("onVerticalDrag",function(e){k&&e<.95?D.hideControls():!k&&.95<=e&&D.showControls()}),b("onPinchClose",function(e){k&&e<.9?(D.hideControls(),t=!0):t&&!k&&.9<e&&D.showControls()}),b("zoomGestureEnded",function(){(t=!1)&&!k&&D.showControls()}),b("beforeChange",D.update),b("doubleTap",function(e){var t=i.currItem.initialZoomLevel;i.getZoomLevel()!==t?i.zoomTo(t,e,333):i.zoomTo(I.getDoubleTapZoom(!1,i.currItem),e,333)}),b("preventDragEvent",function(e,t,n){var i=e.target||e.srcElement;i&&i.getAttribute("class")&&-1<e.type.indexOf("mouse")&&(0<i.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)}),b("bindEvents",function(){s.bind(d,"pswpTap click",e),s.bind(i.scrollWrap,"pswpTap",D.onGlobalTap),i.likelyTouchDevice||s.bind(i.scrollWrap,"mouseover",D.onMouseOver)}),b("unbindEvents",function(){_||L(),F&&clearInterval(F),s.unbind(document,"mouseout",l),s.unbind(document,"mousemove",r),s.unbind(d,"pswpTap click",e),s.unbind(i.scrollWrap,"pswpTap",D.onGlobalTap),s.unbind(i.scrollWrap,"mouseover",D.onMouseOver),c&&(s.unbind(document,c.eventK,D.updateFullscreen),c.isFullscreen()&&(I.hideAnimationDuration=0,c.exit()),c=null)}),b("destroy",function(){I.captionEl&&(h&&d.removeChild(h),s.removeClass(p,"pswp__caption--empty")),g&&(g.children[0].onclick=null),s.removeClass(d,"pswp__ui--over-close"),s.addClass(d,"pswp__ui--hidden"),D.setIdle(!1)}),I.showAnimationDuration||s.removeClass(d,"pswp__ui--hidden"),b("initialZoomIn",function(){I.showAnimationDuration&&s.removeClass(d,"pswp__ui--hidden")}),b("initialZoomOut",function(){s.addClass(d,"pswp__ui--hidden")}),b("parseVerticalMargin",R),z(),I.shareEl&&f&&g&&(_=!0),n(),I.timeToIdle&&b("mouseUsed",function(){s.bind(document,"mousemove",r),s.bind(document,"mouseout",l),F=setInterval(function(){2===++P&&D.setIdle(!0)},I.timeToIdle/2)}),I.fullscreenEl&&!s.features.isOldAndroid&&((c=c||D.getFullscreenAPI())?(s.bind(document,c.eventK,D.updateFullscreen),D.updateFullscreen(),s.addClass(i.template,"pswp--supports-fs")):s.removeClass(i.template,"pswp--supports-fs")),I.preloaderEl&&(u(!0),b("beforeChange",function(){clearTimeout(C),C=setTimeout(function(){i.currItem&&i.currItem.loading?i.allowProgressiveImg()&&(!i.currItem.img||i.currItem.img.naturalWidth)||u(!1):u(!0)},I.loadingIndicatorDelay)}),b("imageLoadComplete",function(e,t){i.currItem===t&&u(!0)}))},D.setIdle=function(e){O(d,"ui--idle",y=e)},D.update=function(){M=!(!k||!i.currItem||(D.updateIndexIndicator(),I.captionEl&&(I.addCaptionHTMLFn(i.currItem,p),O(p,"caption--empty",!i.currItem.title)),0)),_||L(),n()},D.updateFullscreen=function(e){e&&setTimeout(function(){i.setScrollOffset(0,s.getScrollY())},50),s[(c.isFullscreen()?"add":"remove")+"Class"](i.template,"pswp--fs")},D.updateIndexIndicator=function(){I.counterEl&&(m.innerHTML=i.getCurrentIndex()+1+I.indexIndicatorSep+I.getNumItemsFn())},D.onGlobalTap=function(e){var t=(e=e||window.event).target||e.srcElement;if(!T)if(e.detail&&"mouse"===e.detail.pointerType)a(t)?i.close():s.hasClass(t,"pswp__img")&&(1===i.getZoomLevel()&&i.getZoomLevel()<=i.currItem.fitRatio?I.clickToCloseNonZoomable&&i.close():i.toggleDesktopZoom(e.detail.releasePoint));else if(I.tapToToggleControls&&(k?D.hideControls():D.showControls()),I.tapToClose&&(s.hasClass(t,"pswp__img")||a(t)))return void i.close()},D.onMouseOver=function(e){e=(e=e||window.event).target||e.srcElement;O(d,"ui--over-close",a(e))},D.hideControls=function(){s.addClass(d,"pswp__ui--hidden"),k=!1},D.showControls=function(){k=!0,M||D.update(),s.removeClass(d,"pswp__ui--hidden")},D.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},D.getFullscreenAPI=function(){var e,t=document.documentElement,n="fullscreenchange";return t.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:t.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:t.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:t.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){return v=I.closeOnScroll,I.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?i.template[this.enterK]():void i.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return I.closeOnScroll=v,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}}}),(r=>{r.ThreeSixty=function(e,t){var o,a=this,n=[];a.$el=r(e),a.el=e,a.$el.data("ThreeSixty",a),a.init=function(){(o=r.extend({},r.ThreeSixty.defaultOptions,t)).disableSpin&&(o.currentFrame=1,o.endFrame=1),a.initProgress(),a.loadImages()},a.resize=function(){},a.initProgress=function(){a.$el.css({width:o.width+"px",height:o.height+"px","background-image":"none !important"}),o.styles&&a.$el.css(o.styles),a.responsive(),a.$el.find(o.progress),a.$el.find(o.progress).fadeIn("slow"),a.$el.find(o.imgList).hide()},a.loadImages=function(){var e=document.createElement("li"),t=o.zeroBased?0:1,t=o.imgArray?o.imgArray[o.loadedImages]:o.domain+o.imagePath+o.filePrefix+a.zeroPad(o.loadedImages+t)+o.ext+(a.browser.isIE()?"?"+(new Date).getTime():""),t=r("<img>").attr("src",t).addClass("previous-image").appendTo(e);n.push(t),a.$el.find(o.imgList).append(e),r(t).on("load",function(){a.imageLoaded()})},a.imageLoaded=function(){o.loadedImages+=1,r(o.progress+" span").text(Math.floor(o.loadedImages/o.totalFrames*100)+"%"),o.loadedImages>=o.totalFrames?(o.disableSpin&&n[0].removeClass("previous-image").addClass("current-image"),r(o.progress).fadeOut("slow",function(){r(this).hide(),a.showImages(),a.showNavigation()})):a.loadImages()},a.showImages=function(){a.$el.find(".txtC").fadeIn(),a.$el.find(o.imgList).fadeIn(),a.ready=!0,o.ready=!0,o.drag&&a.initEvents(),a.refresh(),a.initPlugins(),o.onReady(),setTimeout(function(){a.responsive()},50)},a.initPlugins=function(){r.each(o.plugins,function(e,t){if("function"!=typeof r[t])throw new Error(t+" not available.");r[t].call(a,a.$el,o)})},a.showNavigation=function(){var e,t,n,i;o.navigation&&!o.navigation_init&&(e=r("<div/>").attr("class","nav_bar"),t=r("<a/>").attr({href:"#",class:"nav_bar_next"}).html('<svg viewBox="0 0 24 24" width="24" height="24" stroke="#222" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-next"><polyline points="9 18 15 12 9 6"></polyline></svg>'),n=r("<a/>").attr({href:"#",class:"nav_bar_previous"}).html('<svg viewBox="0 0 24 24" width="24" height="24" stroke="#222" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-prev"><polyline points="15 18 9 12 15 6"></polyline></svg>'),i=r("<a/>").attr({href:"#",class:"nav_bar_play"}).html('<svg viewBox="0 0 24 24" width="24" height="24" stroke="#222" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-play"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg><svg viewBox="0 0 24 24" width="24" height="24" stroke="#222" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-stop pa"><rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect></svg>'),e.append(n),e.append(i),e.append(t),a.$el.prepend(e),t.bind("mousedown touchstart",a.next),n.bind("mousedown touchstart",a.previous),i.bind("mousedown touchstart",a.play_stop),o.navigation_init=!0)},a.play_stop=function(e){e.preventDefault(),o.autoplay?(o.autoplay=!1,r(e.currentTarget).removeClass("nav_bar_stop").addClass("nav_bar_play"),clearInterval(o.play),o.play=null):(o.autoplay=!0,o.play=setInterval(a.moveToNextFrame,o.playSpeed),r(e.currentTarget).removeClass("nav_bar_play").addClass("nav_bar_stop"))},a.next=function(e){e&&e.preventDefault(),o.endFrame-=5,a.refresh()},a.previous=function(e){e&&e.preventDefault(),o.endFrame+=5,a.refresh()},a.play=function(e,t){e=e||o.playSpeed,t=t||o.autoplayDirection;o.autoplayDirection=t,o.autoplay||(o.autoplay=!0,o.play=setInterval(a.moveToNextFrame,e))},a.stop=function(){o.autoplay&&(o.autoplay=!1,clearInterval(o.play),o.play=null)},a.moveToNextFrame=function(){1===o.autoplayDirection?--o.endFrame:o.endFrame+=1,a.refresh()},a.gotoAndPlay=function(e){var t,n,i;o.disableWrap?(o.endFrame=e,a.refresh()):(t=1<(t=0===(t=Math.ceil(o.endFrame/o.totalFrames))?1:t)?o.endFrame-(t-1)*o.totalFrames:o.endFrame,n=o.totalFrames-t,i=(i=0)<e-t?e-t<t+(o.totalFrames-e)?o.endFrame+(e-t):o.endFrame-(t+(o.totalFrames-e)):t-e<n+e?o.endFrame-(t-e):o.endFrame+(n+e),t!==e&&(o.endFrame=i,a.refresh()))},a.initEvents=function(){a.$el.bind("mousedown touchstart touchmove touchend mousemove click",function(e){e.preventDefault(),"mousedown"===e.type&&1===e.which||"touchstart"===e.type?(o.pointerStartPosX=a.getPointerEvent(e).pageX,o.dragging=!0,o.onDragStart(o.currentFrame)):"touchmove"===e.type?a.trackPointer(e):"touchend"===e.type&&(o.dragging=!1,o.onDragStop(o.endFrame))}),r(document).bind("mouseup",function(e){o.dragging=!1,o.onDragStop(o.endFrame),r(this).css("cursor","none")}),r(window).bind("resize",function(e){a.responsive()}),r(document).bind("mousemove",function(e){o.dragging?(e.preventDefault(),!a.browser.isIE&&o.showCursor&&a.$el.css("cursor","url(assets/images/hand_closed.png), auto")):!a.browser.isIE&&o.showCursor&&a.$el.css("cursor","url(assets/images/hand_open.png), auto"),a.trackPointer(e)}),r(window).resize(function(){a.resize()})},a.getPointerEvent=function(e){return e.originalEvent.targetTouches?e.originalEvent.targetTouches[0]:e},a.trackPointer=function(e){o.ready&&o.dragging&&(o.pointerEndPosX=a.getPointerEvent(e).pageX,o.monitorStartTime<(new Date).getTime()-o.monitorInt)&&(o.pointerDistance=o.pointerEndPosX-o.pointerStartPosX,0<o.pointerDistance?o.endFrame=o.currentFrame+Math.ceil((o.totalFrames-1)*o.speedMultiplier*(o.pointerDistance/a.$el.width())):o.endFrame=o.currentFrame+Math.floor((o.totalFrames-1)*o.speedMultiplier*(o.pointerDistance/a.$el.width())),o.disableWrap&&(o.endFrame=Math.min(o.totalFrames-(o.zeroBased?1:0),o.endFrame),o.endFrame=Math.max(o.zeroBased?0:1,o.endFrame)),a.refresh(),o.monitorStartTime=(new Date).getTime(),o.pointerStartPosX=a.getPointerEvent(e).pageX)},a.refresh=function(){0===o.ticker&&(o.ticker=setInterval(a.render,Math.round(1e3/o.framerate)))},a.render=function(){var e;o.currentFrame!==o.endFrame?(e=o.endFrame<o.currentFrame?Math.floor(.1*(o.endFrame-o.currentFrame)):Math.ceil(.1*(o.endFrame-o.currentFrame)),a.hidePreviousFrame(),o.currentFrame+=e,a.showCurrentFrame(),a.$el.trigger("frameIndexChanged",[a.getNormalizedCurrentFrame(),o.totalFrames])):(window.clearInterval(o.ticker),o.ticker=0)},a.hidePreviousFrame=function(){n[a.getNormalizedCurrentFrame()].removeClass("current-image").addClass("previous-image")},a.showCurrentFrame=function(){n[a.getNormalizedCurrentFrame()].removeClass("previous-image").addClass("current-image")},a.getNormalizedCurrentFrame=function(){var e,t;return o.disableWrap?(e=Math.min(o.currentFrame,o.totalFrames-(o.zeroBased?1:0)),t=Math.min(o.endFrame,o.totalFrames-(o.zeroBased?1:0)),e=Math.max(e,o.zeroBased?0:1),t=Math.max(t,o.zeroBased?0:1),o.currentFrame=e,o.endFrame=t):(e=Math.ceil(o.currentFrame%o.totalFrames))<0&&(e+=o.totalFrames-(o.zeroBased?1:0)),e},a.getCurrentFrame=function(){return o.currentFrame},a.responsive=function(){o.responsive&&a.$el.css({height:a.$el.find(".current-image").first().css("height"),width:"100%"})},a.zeroPad=function(e){var t=Math.log(o.totalFrames)/Math.LN10,t=Math.round(1e3*t)/1e3,n=Math.floor(t)+1,i=e.toString();if(o.zeroPadding)for(;i.length<n;)i="0"+i;return i},a.browser={},a.browser.isIE=function(){var e,t=-1;return-1!==(t="Microsoft Internet Explorer"===navigator.appName&&(e=navigator.userAgent,null!==new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(e))?parseFloat(RegExp.$1):t)},a.getConfig=function(){return o},r.ThreeSixty.defaultOptions={dragging:!1,ready:!1,pointerStartPosX:0,pointerEndPosX:0,pointerDistance:0,monitorStartTime:0,monitorInt:10,ticker:0,speedMultiplier:7,totalFrames:180,currentFrame:0,endFrame:0,loadedImages:0,framerate:60,domains:null,domain:"",parallel:!1,queueAmount:8,idle:0,filePrefix:"",ext:"png",height:300,width:300,styles:{},navigation:!1,autoplay:!1,autoplayDirection:1,disableSpin:!1,disableWrap:!1,responsive:!1,zeroPadding:!1,zeroBased:!1,plugins:[],showCursor:!1,drag:!0,onReady:function(){},onDragStart:function(){},onDragStop:function(){},imgList:".threesixty_images",imgArray:null,playSpeed:100},a.init()},r.fn.ThreeSixty=function(e){return Object.create(new r.ThreeSixty(this,e))}})(jQuery_T4NT),"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t});var u=("undefined"==typeof window||window!==this)&&"undefined"!=typeof global&&null!=global?global:this;function v(){v=function(){},u.Symbol||(u.Symbol=A)}var B=0;function A(e){return"jscomp_symbol_"+(e||"")+B++}(n=>{function o(e){var t;return(i[e]||(t=i[e]={ja:e,fa:!1,T:{}},n[e].call(t.T,t,t.T,o),t.fa=!0,t)).T}var i={};o.u=n,o.h=i,o.c=function(e,t,n){o.g(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){v(),v(),"undefined"!=typeof Symbol&&Symbol.toStringTag&&(v(),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})),Object.defineProperty(e,"__esModule",{value:!0})},o.m=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.ba)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.c(n,i,function(e){return t[e]}.bind(null,i));return n},o.i=function(e){var t=e&&e.ba?function(){return e.default}:function(){return e};return o.c(t,"a",t),t},o.g=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.o="",o(o.v=0)})([function(e,t,n){function i(e,t){if(t=void 0===t?{}:t,this.h=e,this.g=this.g.bind(this),!b(this.h))throw new TypeError("`new Drift` requires a DOM element as its first argument.");e=t.namespace||null;var n=t.showWhitespaceAtEdges||!1,i=t.containInline||!1,o=t.inlineOffsetX||0,a=t.inlineOffsetY||0,r=t.inlineContainer||document.body,s=t.sourceAttribute||"data-zoom",l=t.zoomFactor||3,u=void 0===t.paneContainer?document.body:t.paneContainer,c=t.inlinePane||375,d=!("handleTouch"in t&&!t.handleTouch),p=t.onShow||null,h=t.onHide||null,m=!("injectBaseStyles"in t&&!t.injectBaseStyles),f=t.hoverDelay||0,g=t.touchDelay||0,v=t.hoverBoundingBox||!1,y=t.touchBoundingBox||!1;if(t=t.boundingBoxContainer||document.body,!0!==c&&!b(u))throw new TypeError("`paneContainer` must be a DOM element when `inlinePane !== true`");if(!b(r))throw new TypeError("`inlineContainer` must be a DOM element");this.a={j:e,P:n,I:i,K:o,L:a,w:r,R:s,f:l,ga:u,ea:c,C:d,O:p,N:h,da:m,F:f,A:g,D:v,G:y,H:t},this.a.da&&!document.querySelector(".drift-base-styles")&&((t=document.createElement("style")).type="text/css",t.classList.add("drift-base-styles"),t.appendChild(document.createTextNode(".drift-bounding-box,.drift-zoom-pane{position:absolute;pointer-events:none}@keyframes noop{0%{zoom:1}}@-webkit-keyframes noop{0%{zoom:1}}.drift-zoom-pane.drift-open{display:block}.drift-zoom-pane.drift-closing,.drift-zoom-pane.drift-opening{animation:noop 1ms;-webkit-animation:noop 1ms}.drift-zoom-pane{overflow:hidden;width:100%;height:100%;top:0;left:0}.drift-zoom-pane-loader{display:none}.drift-zoom-pane img{position:absolute;display:block;max-width:none;max-height:none}")),(e=document.head).insertBefore(t,e.firstChild)),this.v(),this.u()}function o(e){e=void 0===e?{}:e,this.h=this.h.bind(this),this.g=this.g.bind(this),this.m=this.m.bind(this),this.s=!1;var t=void 0===e.J?null:e.J,n=void 0===e.f?m():e.f,i=void 0===e.U?m():e.U,o=void 0===e.j?null:e.j,a=void 0===e.P?m():e.P,r=void 0===e.I?m():e.I;this.a={J:t,f:n,U:i,j:o,P:a,I:r,K:void 0===e.K?0:e.K,L:void 0===e.L?0:e.L,w:void 0===e.w?document.body:e.w},this.o=this.i("open"),this.Y=this.i("opening"),this.u=this.i("closing"),this.v=this.i("inline"),this.V=this.i("loading"),this.ha()}function a(e){e=void 0===e?{}:e,this.m=this.m.bind(this),this.B=this.B.bind(this),this.g=this.g.bind(this),this.c=this.c.bind(this);e=void 0===(p=e).b?m():p.b;var t=void 0===p.l?m():p.l,n=void 0===p.R?m():p.R,i=void 0===p.C?m():p.C,o=void 0===p.O?null:p.O,a=void 0===p.N?null:p.N,r=void 0===p.F?0:p.F,s=void 0===p.A?0:p.A,l=void 0===p.D?m():p.D,u=void 0===p.G?m():p.G,c=void 0===p.j?null:p.j,d=void 0===p.f?m():p.f,p=void 0===p.H?m():p.H;this.a={b:e,l:t,R:n,C:i,O:o,N:a,F:r,A:s,D:l,G:u,j:c,f:d,H:p},(this.a.D||this.a.G)&&(this.o=new h({j:this.a.j,f:this.a.f,S:this.a.H})),this.enabled=!0,this.M()}function h(e){this.s=!1;var t=void 0===e.j?null:e.j,n=void 0===e.f?m():e.f;e=void 0===e.S?m():e.S,this.a={j:t,f:n,S:e},this.c=this.g("open"),this.h()}function b(e){return l?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}function r(t,e){e.forEach(function(e){t.classList.add(e)})}function s(t,e){e.forEach(function(e){t.classList.remove(e)})}function m(){throw Error("Missing parameter")}n.r(t);var l="object"==typeof HTMLElement,c=(h.prototype.g=function(e){var t=["drift-"+e],n=this.a.j;return n&&t.push(n+"-"+e),t},h.prototype.h=function(){this.b=document.createElement("div"),r(this.b,this.g("bounding-box"))},h.prototype.show=function(e,t){this.s=!0,this.a.S.appendChild(this.b);var n=this.b.style;n.width=Math.round(e/this.a.f)+"px",n.height=Math.round(t/this.a.f)+"px",r(this.b,this.c)},h.prototype.W=function(){this.s&&this.a.S.removeChild(this.b),this.s=!1,s(this.b,this.c)},h.prototype.setPosition=function(e,t,n){var i=window.pageXOffset,o=window.pageYOffset;e=n.left+e*n.width-this.b.clientWidth/2+i,t=n.top+t*n.height-this.b.clientHeight/2+o,e<n.left+i?e=n.left+i:e+this.b.clientWidth>n.left+n.width+i&&(e=n.left+n.width-this.b.clientWidth+i),t<n.top+o?t=n.top+o:t+this.b.clientHeight>n.top+n.height+o&&(t=n.top+n.height-this.b.clientHeight+o),this.b.style.left=e+"px",this.b.style.top=t+"px"},a.prototype.i=function(e){e.preventDefault()},a.prototype.u=function(e){this.a.A&&this.V(e)&&!this.s||e.preventDefault()},a.prototype.V=function(e){return!!e.touches},a.prototype.M=function(){this.a.b.addEventListener("mouseenter",this.g,!1),this.a.b.addEventListener("mouseleave",this.B,!1),this.a.b.addEventListener("mousemove",this.c,!1),this.a.C?(this.a.b.addEventListener("touchstart",this.g,!1),this.a.b.addEventListener("touchend",this.B,!1),this.a.b.addEventListener("touchmove",this.c,!1)):(this.a.b.addEventListener("touchstart",this.i,!1),this.a.b.addEventListener("touchend",this.i,!1),this.a.b.addEventListener("touchmove",this.i,!1))},a.prototype.ca=function(){this.a.b.removeEventListener("mouseenter",this.g,!1),this.a.b.removeEventListener("mouseleave",this.B,!1),this.a.b.removeEventListener("mousemove",this.c,!1),this.a.C?(this.a.b.removeEventListener("touchstart",this.g,!1),this.a.b.removeEventListener("touchend",this.B,!1),this.a.b.removeEventListener("touchmove",this.c,!1)):(this.a.b.removeEventListener("touchstart",this.i,!1),this.a.b.removeEventListener("touchend",this.i,!1),this.a.b.removeEventListener("touchmove",this.i,!1))},a.prototype.g=function(e){this.u(e),"mouseenter"==(this.h=e).type&&this.a.F?this.v=setTimeout(this.m,this.a.F):this.a.A?this.v=setTimeout(this.m,this.a.A):this.m()},a.prototype.m=function(){var e;this.enabled&&((e=this.a.O)&&"function"==typeof e&&e(),this.a.l.show(this.a.b.getAttribute(this.a.R),this.a.b.clientWidth,this.a.b.clientHeight),this.h&&((e=this.h.touches)&&this.a.G||!e&&this.a.D)&&this.o.show(this.a.l.b.clientWidth,this.a.l.b.clientHeight),this.c())},a.prototype.B=function(e){e&&this.u(e),this.h=null,this.v&&clearTimeout(this.v),this.o&&this.o.W(),(e=this.a.N)&&"function"==typeof e&&e(),this.a.l.W()},a.prototype.c=function(e){if(e)this.u(e),this.h=e;else{if(!this.h)return;e=this.h}n=(e.touches?e=e.touches[0]:e).clientX;var t=e.clientY,n=(n-(e=this.a.b.getBoundingClientRect()).left)/this.a.b.clientWidth;t=(t-e.top)/this.a.b.clientHeight,this.o&&this.o.setPosition(n,t,e),this.a.l.setPosition(n,t,e)},u.Object.defineProperties(a.prototype,{s:{configurable:!0,enumerable:!0,get:function(){return this.a.l.s}}}),e=document.createElement("div").style,"undefined"!=typeof document&&("animation"in e||"webkitAnimation"in e));o.prototype.i=function(e){var t=["drift-"+e],n=this.a.j;return n&&t.push(n+"-"+e),t},o.prototype.ha=function(){this.b=document.createElement("div"),r(this.b,this.i("zoom-pane"));var e=document.createElement("div");r(e,this.i("zoom-pane-loader")),this.b.appendChild(e),this.c=document.createElement("img"),this.b.appendChild(this.c)},o.prototype.X=function(e){this.c.setAttribute("src",e)},o.prototype.Z=function(e,t){this.c.style.width=e*this.a.f+"px",this.c.style.height=t*this.a.f+"px"},o.prototype.setPosition=function(e,t,n){var i=this.c.offsetWidth,o=this.c.offsetHeight,a=this.b.offsetWidth,r=this.b.offsetHeight,s=a/2-i*e,l=r/2-o*t,u=0<(d=a-i),c=0<(p=r-o),o=u?d/2:0,i=c?p/2:0,d=u?d/2:d,p=c?p/2:p;this.b.parentElement===this.a.w&&(c=window.pageXOffset,e=n.left+e*n.width-a/2+this.a.K+c,t=n.top+t*n.height-r/2+this.a.L+(u=window.pageYOffset),this.a.I&&(e<n.left+c?e=n.left+c:e+a>n.left+n.width+c&&(e=n.left+n.width-a+c),t<n.top+u?t=n.top+u:t+r>n.top+n.height+u&&(t=n.top+n.height-r+u)),this.b.style.left=e+"px",this.b.style.top=t+"px"),this.a.P||(o<s?s=o:s<d&&(s=d),i<l?l=i:l<p&&(l=p)),this.c.style.transform="translate("+s+"px, "+l+"px)",this.c.style.webkitTransform="translate("+s+"px, "+l+"px)"},o.prototype.M=function(){this.b.removeEventListener("animationend",this.h,!1),this.b.removeEventListener("animationend",this.g,!1),this.b.removeEventListener("webkitAnimationEnd",this.h,!1),this.b.removeEventListener("webkitAnimationEnd",this.g,!1),s(this.b,this.o),s(this.b,this.u)},o.prototype.show=function(e,t,n){this.M(),this.s=!0,r(this.b,this.o),this.c.getAttribute("src")!=e&&(r(this.b,this.V),this.c.addEventListener("load",this.m,!1),this.X(e)),this.Z(t,n),this.ia?this.aa():this.$(),c&&(this.b.addEventListener("animationend",this.h,!1),this.b.addEventListener("webkitAnimationEnd",this.h,!1),r(this.b,this.Y))},o.prototype.aa=function(){this.a.w.appendChild(this.b),r(this.b,this.v)},o.prototype.$=function(){this.a.J.appendChild(this.b)},o.prototype.W=function(){this.M(),this.s=!1,c?(this.b.addEventListener("animationend",this.g,!1),this.b.addEventListener("webkitAnimationEnd",this.g,!1),r(this.b,this.u)):(s(this.b,this.o),s(this.b,this.v))},o.prototype.h=function(){this.b.removeEventListener("animationend",this.h,!1),this.b.removeEventListener("webkitAnimationEnd",this.h,!1),s(this.b,this.Y)},o.prototype.g=function(){this.b.removeEventListener("animationend",this.g,!1),this.b.removeEventListener("webkitAnimationEnd",this.g,!1),s(this.b,this.o),s(this.b,this.u),s(this.b,this.v),this.b.setAttribute("style",""),this.b.parentElement===this.a.J?this.a.J.removeChild(this.b):this.b.parentElement===this.a.w&&this.a.w.removeChild(this.b)},o.prototype.m=function(){this.c.removeEventListener("load",this.m,!1),s(this.b,this.V)},u.Object.defineProperties(o.prototype,{ia:{configurable:!0,enumerable:!0,get:function(){var e=this.a.U;return!0===e||"number"==typeof e&&window.innerWidth<=e}}}),i.prototype.v=function(){this.l=new o({J:this.a.ga,f:this.a.f,P:this.a.P,I:this.a.I,U:this.a.ea,j:this.a.j,K:this.a.K,L:this.a.L,w:this.a.w})},i.prototype.u=function(){this.c=new a({b:this.h,l:this.l,C:this.a.C,O:this.a.O,N:this.a.N,R:this.a.R,F:this.a.F,A:this.a.A,D:this.a.D,G:this.a.G,j:this.a.j,f:this.a.f,H:this.a.H})},i.prototype.M=function(e){this.l.X(e)},i.prototype.i=function(){this.c.enabled=!1},i.prototype.m=function(){this.c.enabled=!0},i.prototype.g=function(){this.c.B(),this.c.ca()},u.Object.defineProperties(i.prototype,{s:{configurable:!0,enumerable:!0,get:function(){return this.l.s}},f:{configurable:!0,enumerable:!0,get:function(){return this.a.f},set:function(e){this.a.f=e,this.l.a.f=e,this.c.a.f=e,this.o.a.f=e}}}),Object.defineProperty(i.prototype,"isShowing",{get:function(){return this.s}}),Object.defineProperty(i.prototype,"zoomFactor",{get:function(){return this.f},set:function(e){this.f=e}}),i.prototype.setZoomImageURL=i.prototype.M,i.prototype.disable=i.prototype.i,i.prototype.enable=i.prototype.m,i.prototype.destroy=i.prototype.g,window.Drift=i}]);